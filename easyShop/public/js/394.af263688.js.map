{"version":3,"file":"js/394.af263688.js","mappings":"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","sources":["webpack://easyshop-h5/./src/views/vieworder/index.vue","webpack://easyshop-h5/src/views/vieworder/index.vue","webpack://easyshop-h5/./src/views/vieworder/index.vue?1196","webpack://easyshop-h5/./src/views/vieworder/index.vue?f266","webpack://easyshop-h5/./src/api/pay.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"context\"},[_c('van-nav-bar',{attrs:{\"title\":\"查看订单\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('van-steps',{attrs:{\"active\":_vm.active}},[_c('van-step',[_vm._v(\"付款\")]),_c('van-step',[_vm._v(\"卖家发货\")]),_c('van-step',[_vm._v(\"买家收货\")]),_c('van-step',[_vm._v(\"交易完成\")])],1),_c('div',{staticClass:\"goodsList\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(`订单编号：${_vm.orderList.id}`)+\"  \")]),_vm._l((_vm.orderList.skus),function(goods){return _c('van-card',{key:goods.id,attrs:{\"num\":goods.quantity,\"price\":goods.curPrice,\"desc\":goods.attrsText,\"title\":goods.name,\"thumb\":goods.image}})}),_c('div',{staticClass:\"Introduction\"},[_c('div',{staticClass:\"user\"},[_c('p',[_vm._v(\"收货人：\")]),_c('p',[_vm._v(_vm._s(_vm.orderList.receiverContact))])]),_c('div',{staticClass:\"address\"},[_c('p',[_vm._v(\"收货地址：\")]),_c('p',[_vm._v(_vm._s(_vm.orderList.cityCode+_vm.orderList.provinceCode+_vm.orderList.countyCode+_vm.orderList.receiverAddress))])]),_c('div',{staticClass:\"photoNumber\"},[_c('p',[_vm._v(\"电话：\")]),_c('p',[_vm._v(_vm._s(_vm.orderList.receiverMobile))])]),_c('div',{staticClass:\"price\"},[_c('p',[_vm._v(\"实付款：\")]),_c('p',{staticClass:\"priceNum\"},[_vm._v(\"￥\"+_vm._s(_vm.orderList.payMoney))])])])],2),_c('div',{staticClass:\"footerbtn\"},[_c('div',[_vm._v(\"退货\")]),(_vm.orderList.orderState === 2)?_c('div',[_vm._v(\"提醒卖家发货\")]):_vm._e(),(_vm.orderList.orderState === 3)?_c('div',{on:{\"click\":_vm.checkLogistics}},[_vm._v(\"查看物流\")]):_vm._e(),(_vm.orderList.orderState === 3)?_c('div',{on:{\"click\":_vm.postReceipt}},[_vm._v(\"确认收货\")]):_vm._e(),(_vm.orderList.orderState === 4)?_c('div',[_vm._v(\"待评价\")]):_vm._e()]),_c('van-popup',{style:({ height: '80%', width: '100%' }),attrs:{\"round\":\"\",\"closeable\":\"\",\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.logisticsList.company)?_c('div',{staticClass:\"logisticsBox\"},[_c('div',{staticClass:\"Introduction\"},[_c('div',{staticClass:\"photoNumber\"},[_c('p',[_vm._v(\"电话：\")]),_c('p',[_vm._v(_vm._s(_vm.logisticsList.company.tel))])]),_c('div',{staticClass:\"company\"},[_c('p',[_vm._v(\"物流公司：\")]),_c('p',[_vm._v(_vm._s(_vm.logisticsList.company.name))])]),_c('div',{staticClass:\"orderNum\"},[_c('p',[_vm._v(\"快递单号：\")]),_c('p',[_vm._v(_vm._s(_vm.logisticsList.company.number))])])]),_c('van-steps',{attrs:{\"direction\":\"vertical\",\"active\":0}},_vm._l((_vm.logisticsList.list),function(item){return _c('van-step',{key:item.id},[_c('h3',[_vm._v(_vm._s(item.text))]),_c('p',[_vm._v(_vm._s(item.time))])])}),1)],1):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"context\">\r\n    <van-nav-bar\r\n        title=\"查看订单\"\r\n        left-arrow\r\n        @click-left=\"$router.go(-1)\"\r\n    />\r\n    <van-steps :active=\"active\">\r\n        <van-step>付款</van-step>\r\n        <van-step>卖家发货</van-step>\r\n        <van-step>买家收货</van-step>\r\n        <van-step>交易完成</van-step>\r\n    </van-steps>\r\n    <div class=\"goodsList\">\r\n        <div class=\"title\">\r\n            {{`订单编号：${orderList.id}`}}&nbsp;\r\n        </div>\r\n        <van-card\r\n            v-for=\"goods in orderList.skus\"\r\n            :key=\"goods.id\"\r\n            :num=\"goods.quantity\"\r\n            :price=\"goods.curPrice\"\r\n            :desc=\"goods.attrsText\"\r\n            :title=\"goods.name\"\r\n            :thumb=\"goods.image\"\r\n        />\r\n        <div class=\"Introduction\">\r\n            <div class=\"user\">\r\n                <p>收货人：</p>\r\n                <p>{{orderList.receiverContact}}</p>\r\n            </div>\r\n            <div class=\"address\">\r\n                <p>收货地址：</p>\r\n                <p>{{orderList.cityCode+orderList.provinceCode+orderList.countyCode+orderList.receiverAddress}}</p>\r\n            </div>\r\n            <div class=\"photoNumber\">\r\n                <p>电话：</p>\r\n                <p>{{orderList.receiverMobile}}</p>\r\n            </div>\r\n            <div class=\"price\">\r\n                <p>实付款：</p>\r\n                <p class=\"priceNum\">￥{{orderList.payMoney}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"footerbtn\">\r\n        <div>退货</div>\r\n        <div v-if=\"orderList.orderState === 2\">提醒卖家发货</div>\r\n        <div v-if=\"orderList.orderState === 3\" @click=\"checkLogistics\">查看物流</div>\r\n        <div v-if=\"orderList.orderState === 3\" @click=\"postReceipt\">确认收货</div>\r\n        <div v-if=\"orderList.orderState === 4\" >待评价</div>\r\n    </div>\r\n    <van-popup v-model=\"show\" round closeable position=\"bottom\" :style=\"{ height: '80%', width: '100%' }\">\r\n        <div class=\"logisticsBox\" v-if=\"logisticsList.company\">\r\n            <div class=\"Introduction\">\r\n                <div class=\"photoNumber\">\r\n                    <p>电话：</p>\r\n                    <p>{{logisticsList.company.tel}}</p>\r\n                </div>\r\n                <div class=\"company\">\r\n                    <p>物流公司：</p>\r\n                    <p>{{logisticsList.company.name}}</p>\r\n                </div>\r\n                <div class=\"orderNum\">\r\n                    <p>快递单号：</p>\r\n                    <p>{{logisticsList.company.number}}</p>\r\n                </div>\r\n            </div>\r\n            <van-steps direction=\"vertical\" :active=\"0\">\r\n                <van-step v-for=\"item in logisticsList.list\" :key=\"item.id\">\r\n                    <h3>{{item.text}}</h3>\r\n                    <p>{{item.time}}</p>\r\n                </van-step>\r\n            </van-steps>\r\n        </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrder,getLogistics,putReceipt } from '@/api/pay';\r\nexport default {\r\n    name:'easy-ViewOrder',\r\n    data() {\r\n        return {\r\n            show:false,\r\n            active:1,\r\n            orderList:{},\r\n            logisticsList:{}\r\n        }\r\n    },\r\n    methods:{\r\n        async checkLogistics() {\r\n            const res = await getLogistics(this.$route.query.orderId)\r\n            this.logisticsList = res.result\r\n            this.show=true\r\n        },\r\n        async getOrders() {\r\n            const res = await getOrder(this.$route.query.orderId)\r\n            this.orderList = res.result\r\n            this.active = res.result.orderState - 1\r\n        },\r\n        async postReceipt() {\r\n            await putReceipt(this.$route.query.orderId)\r\n            this.$toast('确认收货成功')\r\n            this.getOrders()\r\n        }\r\n    },\r\n    created() {\r\n        this.getOrders()\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.logisticsBox{\r\n    margin-top: 50px;\r\n}\r\n.Introduction{\r\n    margin: 0 5px;\r\n    background-color: #fff;\r\n    .user,.address,.photoNumber,.price,.company,.orderNum{\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n    .priceNum{\r\n        color:red;\r\n        font-size: 18px;\r\n    }\r\n}\r\n\r\np{\r\n    margin:0;\r\n    font-size: 15px;\r\n}\r\n.title{\r\n    font-size: 13px;\r\n    text-align: right;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    margin-right: 10px;\r\n}\r\n.van-card{\r\n    margin: 0;\r\n}\r\n.footerbtn{\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-end;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    height: 40px;\r\n    div{\r\n        background-color: red;\r\n        color:#fff;\r\n        margin-right: 10px;\r\n        font-size: 13px;\r\n        width: 85px;\r\n        height: 22px;\r\n        line-height: 23px;\r\n        text-align: center;\r\n        border: 1px solid #000;\r\n        border-radius: 10px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=51a61cc4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=51a61cc4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51a61cc4\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\"\r\n\r\n/**\r\n * 提交订单\r\n */\r\nexport const postGoodsList = (config) => {\r\n    return request('/member/order','post',{...config})\r\n}\r\n\r\n/**\r\n * 获取订单详情\r\n */\r\nexport const getOrder = (id) =>{\r\n    return request(`/member/order/${id}`,'GET')\r\n}\r\n\r\n/**\r\n * 取消订单\r\n */\r\nexport const detalOrder = (id, cancelReason='不想要了') =>{\r\n    return request(`/member/order/${id}/cancel`,'PUT',{cancelReason})\r\n}\r\n\r\n\r\n/**\r\n * 获取我的订单\r\n */\r\n export const getMyOrder = (config) => {\r\n    return request('/member/order','get',{...config})\r\n}\r\n\r\n/**\r\n * 查看物流\r\n */\r\nexport const getLogistics = (id) => {\r\n    return request(`/member/order/${id}/logistics`,'get')\r\n}\r\n\r\n/**\r\n * 确认收货\r\n */\r\nexport const putReceipt = (id) => {\r\n    return request(`/member/order/${id}/receipt`,'put')\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","active","_v","_s","orderList","id","_l","skus","goods","key","quantity","curPrice","attrsText","name","image","receiverContact","cityCode","provinceCode","countyCode","receiverAddress","receiverMobile","payMoney","orderState","_e","checkLogistics","postReceipt","style","height","width","model","value","show","callback","$$v","expression","logisticsList","company","tel","number","list","item","text","time","staticRenderFns","data","methods","created","component","postGoodsList","config","request","getOrder","detalOrder","cancelReason","getMyOrder","getLogistics","putReceipt"],"sourceRoot":""}