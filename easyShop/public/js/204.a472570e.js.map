{"version":3,"file":"js/204.a472570e.js","mappings":"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","sources":["webpack://easyshop-h5/./src/views/place/index.vue","webpack://easyshop-h5/src/views/place/index.vue","webpack://easyshop-h5/./src/views/place/index.vue?b487","webpack://easyshop-h5/./src/views/place/index.vue?1233","webpack://easyshop-h5/./src/api/pay.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"placeContext\"},[_c('van-nav-bar',{attrs:{\"title\":\"提交订单\",\"placeholder\":\"\",\"fixed\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}}),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"AddressList\"},[_c('van-address-list',{attrs:{\"list\":_vm.checkList},on:{\"select\":_vm.selectChange,\"edit\":_vm.onEdit},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('div',[(_vm.open || _vm.checkList.length<=0)?_c('van-button',{staticClass:\"Addressbtn\",attrs:{\"type\":\"danger\",\"block\":\"\",\"size\":\"normal\"},on:{\"click\":_vm.onAdd}},[_vm._v(\"新增地址\")]):_vm._e(),(!_vm.open)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.updateAddress}},[_vm._v(\"选择其他地址\")]):_c('div',{staticClass:\"btn\",on:{\"click\":_vm.guanAddress}},[_vm._v(\"取消选择\")])],1)]},proxy:true}]),model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}})],1),_c('div',{staticClass:\"goodsList\"},_vm._l((_vm.$store.state.goods.goodsList),function(goods){return _c('div',{key:goods.specs.skuId,staticClass:\"goodsItem\"},[_vm._l((goods.specs),function(item){return _c('van-card',{key:item.id,attrs:{\"num\":item.count,\"price\":item.price/100,\"desc\":item.desc,\"title\":goods.name,\"thumb\":item.picture},on:{\"click\":function($event){return _vm.$router.push(`/goods?id=${goods.id}`)}}})}),_c('van-cell',{attrs:{\"is-link\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{staticClass:\"custom-title\"},[_vm._v(\"配送服务\")])]},proxy:true},{key:\"default\",fn:function(){return [_c('span',{staticClass:\"custom-value\"},[_vm._v(\"快递 免邮\")])]},proxy:true}],null,true)}),_c('van-field',{attrs:{\"label\":\"订单备注\",\"placeholder\":\"无备注\",\"input-align\":\"right\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],2)}),0),_c('div',{staticClass:\"payload\"},[_c('van-cell',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{staticClass:\"custom-title\"},[_vm._v(\"支付方式\")])]},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"checkBox\"},[_c('van-radio-group',{model:{value:(_vm.payLoad),callback:function ($$v) {_vm.payLoad=$$v},expression:\"payLoad\"}},[_c('van-radio',{attrs:{\"name\":\"1\"}},[_vm._v(\"在线支付\")]),_c('van-radio',{attrs:{\"name\":\"2\"}},[_vm._v(\"货到付款\")])],1)],1),(_vm.payLoad==='1')?_c('div',{staticClass:\"checkBox\"},[_c('van-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('van-radio',{attrs:{\"name\":\"1\"}},[_vm._v(\"支付宝付\")]),_c('van-radio',{attrs:{\"name\":\"2\"}},[_vm._v(\"微信支付\")])],1)],1):_vm._e()]},proxy:true}])})],1)]),_c('easyPopup',{attrs:{\"address-info\":_vm.addressInfo,\"addressShow\":_vm.addressShow,\"newAddss\":_vm.newAddss,\"searchResult\":_vm.searchResult},on:{\"closePopup\":_vm.closePopup,\"save\":_vm.onSave,\"delete\":_vm.onDelete}}),_c('van-submit-bar',{attrs:{\"price\":_vm.price,\"button-text\":\"提交订单\",\"safe-area-inset-bottom\":\"\"},on:{\"submit\":_vm.onSubmit}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"placeContext\">\r\n    <van-nav-bar\r\n      title=\"提交订单\"\r\n      placeholder \r\n      fixed\r\n      left-arrow\r\n      @click-left=\"goBack\"\r\n    />\r\n    <div class=\"box\">\r\n      <!-- 收货地址 -->\r\n      <div class=\"AddressList\">\r\n        <van-address-list\r\n          @select=\"selectChange\"\r\n          :list=\"checkList\"\r\n          @edit=\"onEdit\"\r\n          v-model=\"chosenAddressId\"\r\n        >\r\n          <template #default>\r\n            <div>\r\n              <van-button @click=\"onAdd\" v-if=\"open || checkList.length<=0\" class=\"Addressbtn\" type=\"danger\" block size=\"normal\">新增地址</van-button>\r\n              <div class=\"btn\" v-if=\"!open\" @click=\"updateAddress\">选择其他地址</div>\r\n              <div class=\"btn\" v-else @click=\"guanAddress\">取消选择</div>\r\n            </div>\r\n          </template>\r\n        </van-address-list>\r\n      </div>\r\n      <!-- 商品列表 -->\r\n      <div class=\"goodsList\">\r\n        <div class=\"goodsItem\" v-for=\"goods in $store.state.goods.goodsList\" :key=\"goods.specs.skuId\">\r\n          <van-card\r\n            @click=\"$router.push(`/goods?id=${goods.id}`)\"\r\n            v-for=\"item in goods.specs\"\r\n            :key=\"item.id\"\r\n            :num=\"item.count\"\r\n            :price=\"item.price/100\"\r\n            :desc=\"item.desc\"\r\n            :title=\"goods.name\"\r\n            :thumb=\"item.picture\"/>\r\n            <van-cell is-link>\r\n              <!-- 使用 title 插槽来自定义标题 -->\r\n              <template #title>\r\n                <span class=\"custom-title\">配送服务</span>\r\n              </template>\r\n              <template #default>\r\n                <span class=\"custom-value\">快递 免邮</span>\r\n              </template>\r\n            </van-cell>\r\n            <van-field v-model=\"text\" label=\"订单备注\" placeholder=\"无备注\" input-align=\"right\" />\r\n        </div>\r\n      </div>\r\n      <!-- 支付方式 -->\r\n      <div class=\"payload\">\r\n        <van-cell>\r\n              <!-- 使用 title 插槽来自定义标题 -->\r\n              <template #title>\r\n                <span class=\"custom-title\">支付方式</span>\r\n              </template>\r\n              <template #default>\r\n                <div class=\"checkBox\">\r\n                  <van-radio-group v-model=\"payLoad\">\r\n                    <van-radio name=\"1\">在线支付</van-radio>\r\n                    <van-radio name=\"2\">货到付款</van-radio>\r\n                  </van-radio-group>\r\n                </div>\r\n                <div class=\"checkBox\" v-if=\"payLoad==='1'\">\r\n                  <van-radio-group v-model=\"radio\">\r\n                    <van-radio name=\"1\">支付宝付</van-radio>\r\n                    <van-radio name=\"2\">微信支付</van-radio>\r\n                  </van-radio-group>\r\n                </div>\r\n              </template>\r\n            </van-cell>\r\n      </div>\r\n    </div>\r\n    <easyPopup :address-info=\"addressInfo\" :addressShow=\"addressShow\" :newAddss=\"newAddss\" :searchResult=\"searchResult\" @closePopup=\"closePopup\" @save=\"onSave\" @delete=\"onDelete\" />\r\n    <van-submit-bar :price=\"price\" @submit=\"onSubmit\" button-text=\"提交订单\" safe-area-inset-bottom\t />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport easyPopup from '@/components/easy-popup.vue'\r\nimport {postGoodsList} from '@/api/pay'\r\nimport { areaList } from '@vant/area-data';\r\nimport { getAddress,delAddress,addAddress,updateAddress } from '@/api/contact'\r\nexport default {\r\n    components:{easyPopup},\r\n    name:'easy-Place',\r\n    data() {\r\n      return {\r\n        payLoad:'1',\r\n        radio: '1',\r\n        text:'',\r\n        addressShow:false,\r\n        chosenAddressId:'1',\r\n        list: [],\r\n        checkList:[],\r\n        open:false,\r\n        areaList,\r\n        addressInfo:{\r\n          id:'0',\r\n          name:'',\r\n          tel:'',\r\n          province:'',\r\n          city:'',\r\n          county:'',\r\n          addressDetail:'',\r\n          areaCode:'',\r\n          postalCode:'',\r\n          isDefault:false,\r\n          addressList:[]\r\n        },\r\n        newAddss:false,\r\n        searchResult: [],\r\n      }\r\n    },\r\n    methods:{\r\n      async onSubmit() {\r\n        if(this.checkList.length===1) {\r\n          let config = {\r\n            goods:[],\r\n            addressId:this.checkList[0].id,\r\n            deliveryTimeType:1,\r\n            payType:this.payLoad*1,\r\n            payChannel:this.payLoad==='1'?this.radio*1:'',\r\n            buyerMessage:this.text\r\n          }\r\n          \r\n          this.$store.state.goods.goodsList.forEach(item=>{\r\n            item.specs.forEach(goods=>{\r\n              config.goods.push(\r\n                {\r\n                  skuId:goods.skuId,\r\n                  count:goods.count\r\n                }\r\n              )\r\n            })\r\n          })\r\n          const res = await postGoodsList(config)\r\n          this.$router.push(`/pay?orderId=${res.result.id}`)\r\n        } else {\r\n          this.$toast('请选择收货地址')\r\n        }\r\n      },\r\n      goBack() {\r\n        this.$store.commit('goods/setGoodsList',[])\r\n        this.$router.go(-1)\r\n      },\r\n      onAdd() {\r\n        // this.$toast('新增地址');\r\n        this.addressShow = true\r\n        this.newAddss = true\r\n        this.addressInfo={\r\n          id:'0',\r\n          name:'',\r\n          tel:'',\r\n          province:'',\r\n          city:'',\r\n          county:'',\r\n          addressDetail:'',\r\n          areaCode:'',\r\n          postalCode:'',\r\n          isDefault:false\r\n        }\r\n      },\r\n      guanAddress(){\r\n        this.open = false\r\n        if(this.checkList.length>0) {\r\n          this.checkList=[]\r\n          this.checkList.push(this.list[0])\r\n        }\r\n      },\r\n      updateAddress(){\r\n        this.open = true\r\n        this.checkList = this.list\r\n      },\r\n      selectChange(e){\r\n        this.checkList = []\r\n        this.checkList.push(e)\r\n        if(this.open) this.open =false\r\n      },\r\n      async getUserAddress() {\r\n        this.list = []\r\n        const {result} = await getAddress()\r\n        result.forEach(item => {\r\n          this.list.unshift(\r\n            {\r\n              id:item.id,\r\n              name:item.receiver,\r\n              tel:item.contact,\r\n              address:item.provinceCode+item.cityCode+item.countyCode+item.address,\r\n              isDefault:false\r\n            }\r\n          )\r\n        })\r\n        this.list = this.list.reverse()\r\n        this.addressList = result.reverse()\r\n        if(this.list.length>0) {\r\n          this.chosenAddressId = this.list[0].id\r\n          this.checkList.push(this.list[0])\r\n        }\r\n      },\r\n      closePopup(e) {\r\n        this.addressShow = e\r\n      },\r\n      onEdit(e,index) {\r\n        this.addressShow=true\r\n        this.newAddss = false\r\n        const config = this.addressList[index]\r\n        this.addressId = config.id\r\n        this.addressInfo = { \r\n          id:config.id,\r\n          name:config.receiver,\r\n          tel:config.contact,\r\n          province:config.provinceCode,\r\n          city:config.cityCode,\r\n          county:config.countyCode,\r\n          addressDetail:config.address,\r\n          areaCode:'110100',\r\n          postalCode:config.postalCode,\r\n          isDefault:config.isDefault===0\r\n        }\r\n      },\r\n      async onSave(e) {\r\n        const config = {\r\n            receiver:e.name,\r\n            contact:e.tel,\r\n            provinceCode:e.province,\r\n            cityCode:e.city,\r\n            countyCode:e.county,\r\n            address:e.addressDetail,\r\n            postalCode:e.postalCode,\r\n            addressTags:'家',\r\n            isDefault:e.isDefault?0:1\r\n        }\r\n        if(this.newAddss){\r\n          //新增\r\n          try {\r\n            await addAddress(config)\r\n            this.$toast('添加地址成功')\r\n          } catch (error) {\r\n            this.$toast(error.response.data.message)\r\n          }\r\n        } else{\r\n          // 修改\r\n          try {\r\n            await updateAddress(this.addressId,config)\r\n            this.$toast('地址修改成功')\r\n          } catch (error) {\r\n            this.$toast(error.response.data.message)\r\n          }\r\n        }\r\n        this.getUserAddress()\r\n        this.addressShow = false\r\n        this.addressInfo = { \r\n          id:'0',\r\n          name:'',\r\n          tel:'',\r\n          province:'',\r\n          city:'',\r\n          county:'',\r\n          addressDetail:'',\r\n          areaCode:'',\r\n          postalCode:'',\r\n          isDefault:false\r\n        }\r\n      },\r\n      async onDelete() {\r\n        try {\r\n            await delAddress(this.addressId)\r\n            this.$toast('地址删除成功')\r\n          } catch (error) {\r\n            this.$toast(error.response.data.message)\r\n          }\r\n        this.getUserAddress()\r\n        this.checkList = []\r\n        this.addressShow = false\r\n        this.addressInfo = { \r\n          id:'0',\r\n          name:'',\r\n          tel:'',\r\n          province:'',\r\n          city:'',\r\n          county:'',\r\n          addressDetail:'',\r\n          areaCode:'',\r\n          postalCode:'',\r\n          isDefault:false\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.getUserAddress()\r\n      console.log(this.$store.state.goods.goodsList);\r\n    },\r\n    computed:{\r\n      price() {\r\n      let num = 0\r\n      this.$store.state.goods.goodsList.forEach(item => {\r\n        num = num+item.specs[0].price/100*item.specs[0].count*100\r\n        // console.log(item);\r\n      })\r\n      return num\r\n    }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van-radio{\r\n  margin: 10px 0;\r\n  font-size: 16px;\r\n}\r\n.checkBox{\r\n  float: right;\r\n}\r\n.custom-value {\r\n  color:#000;\r\n\r\n}\r\n.goodsItem{\r\n  background-color: #fff;\r\n  margin-top: 10px;\r\n}\r\n.payload{\r\n  margin-top: 10px;\r\n  margin-bottom: 55px;\r\n}\r\n.van-address-list {\r\n  padding: 12px;\r\n}\r\n.Addressbtn{\r\n  margin-top: 10px;\r\n  border-radius: 30px;\r\n}\r\n.van-address-list__bottom{\r\n  display: none;\r\n}\r\n.btn{\r\n  margin-top:5px;\r\n  font-size: 14px;\r\n  background-color: #fff;\r\n  width: 90px;\r\n  text-align: center;\r\n  border: 1px solid #f1f1f1;\r\n  border-radius: 8px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ecbd0fc6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ecbd0fc6&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ecbd0fc6\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\"\r\n\r\n/**\r\n * 提交订单\r\n */\r\nexport const postGoodsList = (config) => {\r\n    return request('/member/order','post',{...config})\r\n}\r\n\r\n/**\r\n * 获取订单详情\r\n */\r\nexport const getOrder = (id) =>{\r\n    return request(`/member/order/${id}`,'GET')\r\n}\r\n\r\n/**\r\n * 取消订单\r\n */\r\nexport const detalOrder = (id, cancelReason='不想要了') =>{\r\n    return request(`/member/order/${id}/cancel`,'PUT',{cancelReason})\r\n}\r\n\r\n\r\n/**\r\n * 获取我的订单\r\n */\r\n export const getMyOrder = (config) => {\r\n    return request('/member/order','get',{...config})\r\n}\r\n\r\n/**\r\n * 查看物流\r\n */\r\nexport const getLogistics = (id) => {\r\n    return request(`/member/order/${id}/logistics`,'get')\r\n}\r\n\r\n/**\r\n * 确认收货\r\n */\r\nexport const putReceipt = (id) => {\r\n    return request(`/member/order/${id}/receipt`,'put')\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","goBack","checkList","selectChange","onEdit","scopedSlots","_u","key","fn","open","length","onAdd","_v","_e","guanAddress","updateAddress","proxy","model","value","chosenAddressId","callback","$$v","expression","_l","$store","state","goods","goodsList","specs","skuId","item","id","count","price","desc","name","picture","$event","$router","push","text","payLoad","radio","addressInfo","addressShow","newAddss","searchResult","closePopup","onSave","onDelete","onSubmit","staticRenderFns","components","easyPopup","data","list","areaList","tel","province","city","county","addressDetail","areaCode","postalCode","isDefault","addressList","methods","addressId","deliveryTimeType","payType","payChannel","buyerMessage","config","result","address","receiver","contact","provinceCode","cityCode","countyCode","addressTags","created","console","computed","num","component","postGoodsList","request","getOrder","detalOrder","cancelReason","getMyOrder","getLogistics","putReceipt"],"sourceRoot":""}