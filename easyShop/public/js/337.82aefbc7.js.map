{"version":3,"file":"js/337.82aefbc7.js","mappings":"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","sources":["webpack://easyshop-h5/./src/views/login/index.vue","webpack://easyshop-h5/./src/api/Login.js","webpack://easyshop-h5/src/views/login/index.vue","webpack://easyshop-h5/./src/views/login/index.vue?75e3","webpack://easyshop-h5/./src/views/login/index.vue?a173"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"loginContext\"},[_c('van-nav-bar',{attrs:{\"title\":\"登录\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('div',{staticClass:\"check\"},[_c('van-radio-group',{attrs:{\"direction\":\"horizontal\"},on:{\"change\":_vm.checkChange},model:{value:(_vm.isLogin),callback:function ($$v) {_vm.isLogin=$$v},expression:\"isLogin\"}},[_c('van-radio',{attrs:{\"name\":\"1\",\"shape\":\"square\"}},[_vm._v(\"账号密码登录\")]),_c('van-radio',{attrs:{\"name\":\"2\",\"shape\":\"square\"}},[_vm._v(\"手机号码登录\")])],1)],1),_c('div',{staticClass:\"Login\"},[(_vm.isLogin==='1')?_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"account\",\"label\":\"用户名\",\"placeholder\":\"请输入用户名\",\"rules\":[{ required: true, message: '请填写用户名' },{ required: true,validator:_vm.name , message: '用户名长度在5-12之间' }]},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),(_vm.numberAdd==='2')?_c('van-field',{attrs:{\"name\":\"numPhoto\",\"type\":\"number\",\"label\":\"手机号码\",\"placeholder\":\"请输入手机号码\",\"rules\":[{ required: true, message: '请填写手机号' },{ required: true,validator:_vm.photoNum , message: '请输入正确的手机号' }]},model:{value:(_vm.numPhoto),callback:function ($$v) {_vm.numPhoto=$$v},expression:\"numPhoto\"}}):_vm._e(),(_vm.numberAdd==='2')?_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"number\",\"name\":\"numCode\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\",\"rules\":[{ required: true, message: '请填写验证码' },{ required: true,validator:_vm.codeNum , message: '请输入正确的验证码' }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('span',{on:{\"click\":_vm.sendCode}},[_vm._v(_vm._s(_vm.time===0?'发送验证码' :`${_vm.time}秒重新发送`))])]},proxy:true}],null,false,3497939142),model:{value:(_vm.numCode),callback:function ($$v) {_vm.numCode=$$v},expression:\"numCode\"}}):_vm._e(),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"rules\":[{ required: true, message: '请填写密码' },{ required: true,validator:_vm.password1 , message: '密码长度在6-12位之间' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"check\"},[_c('van-radio-group',{attrs:{\"direction\":\"horizontal\"},model:{value:(_vm.numberAdd),callback:function ($$v) {_vm.numberAdd=$$v},expression:\"numberAdd\"}},[_c('van-radio',{attrs:{\"name\":\"1\"}},[_vm._v(\"登录\")]),_c('van-radio',{attrs:{\"name\":\"2\"}},[_vm._v(\"注册\")])],1)],1),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(_vm._s(_vm.numberAdd==='1'?'登录':'注册'))])],1)],1):_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"photo\",\"type\":\"number\",\"label\":\"手机号码\",\"placeholder\":\"请输入手机号码\",\"rules\":[{ required: true, message: '请填写手机号' },{ required: true,validator:_vm.photoNum , message: '请输入正确的手机号' }]},model:{value:(_vm.photo),callback:function ($$v) {_vm.photo=$$v},expression:\"photo\"}}),_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"number\",\"name\":\"code\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\",\"rules\":[{ required: true, message: '请填写验证码' },{ required: true,validator:_vm.codeNum , message: '请输入正确的验证码' }]},scopedSlots:_vm._u([(_vm.isLogin === '2')?{key:\"button\",fn:function(){return [_c('span',{on:{\"click\":_vm.sendCode}},[_vm._v(_vm._s(_vm.time===0?'发送验证码' :`${_vm.time}秒重新发送`))])]},proxy:true}:null],null,true),model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('div',{staticClass:\"check\"},[_c('van-radio-group',{attrs:{\"direction\":\"horizontal\"},model:{value:(_vm.photoAdd),callback:function ($$v) {_vm.photoAdd=$$v},expression:\"photoAdd\"}},[_c('van-radio',{attrs:{\"name\":\"1\"}},[_vm._v(\"登录\")]),_c('van-radio',{attrs:{\"name\":\"2\"}},[_vm._v(\"注册\")])],1)],1),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(_vm._s(_vm.photoAdd==='1'?'登录':'注册'))])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request\";\r\n\r\n/**\r\n * 登录-用户名/密码\r\n */\r\nexport const loginIsNum = (config) => {\r\n    return request('/login','post',{...config})\r\n}\r\n\r\n/**\r\n * 注册-用户名/密码\r\n */\r\nexport const registerNum = (config) => {\r\n    return request('/register','post',{...config})\r\n}\r\n\r\n/**\r\n * 注册-手机\r\n */\r\nexport const registerPhoto = (config) => {\r\n    return request('/register/code/check','get',{...config})\r\n}\r\n\r\n/**\r\n * 登录-手机\r\n */\r\nexport const loginPhoto = (config) => {\r\n    return request('/login/code','post',{...config})\r\n}\r\n\r\n/**\r\n * 获取注册验证码\r\n */\r\nexport const getCode = (config) => {\r\n    return request('/code','get',{...config})\r\n}\r\n\r\n/**\r\n * 获取登录验证码\r\n */\r\n export const getLoginCode = (moblie) => {\r\n    return request('/login/code','get',{moblie})\r\n}","<template>\r\n  <div class=\"loginContext\">\r\n    <van-nav-bar\r\n        title=\"登录\"\r\n        left-arrow\r\n        @click-left=\"$router.go(-1)\"\r\n    />\r\n    <div class=\"check\">\r\n        <van-radio-group v-model=\"isLogin\" direction=\"horizontal\" @change=\"checkChange\">\r\n            <van-radio name=\"1\" shape=\"square\">账号密码登录</van-radio>\r\n            <van-radio name=\"2\" shape=\"square\">手机号码登录</van-radio>\r\n        </van-radio-group>\r\n    </div>\r\n    <div class=\"Login\">\r\n        <!-- 账号密码登录/注册 -->\r\n        <van-form @submit=\"onSubmit\" v-if=\"isLogin==='1'\">\r\n            <van-field\r\n                v-model=\"account\"\r\n                name=\"account\"\r\n                label=\"用户名\"\r\n                placeholder=\"请输入用户名\"\r\n                :rules=\"[{ required: true, message: '请填写用户名' },{ required: true,validator:name , message: '用户名长度在5-12之间' }]\"\r\n            />\r\n            <van-field\r\n                v-if=\"numberAdd==='2'\"\r\n                v-model=\"numPhoto\"\r\n                name=\"numPhoto\"\r\n                type=\"number\"\r\n                label=\"手机号码\"\r\n                placeholder=\"请输入手机号码\"\r\n                :rules=\"[{ required: true, message: '请填写手机号' },{ required: true,validator:photoNum , message: '请输入正确的手机号' }]\"\r\n            />\r\n            <van-field\r\n                v-if=\"numberAdd==='2'\"\r\n                v-model=\"numCode\"\r\n                clearable\r\n                type=\"number\"\r\n                name=\"numCode\"\r\n                label=\"短信验证码\"\r\n                placeholder=\"请输入短信验证码\"\r\n                :rules=\"[{ required: true, message: '请填写验证码' },{ required: true,validator:codeNum , message: '请输入正确的验证码' }]\"\r\n                >\r\n                <template #button>\r\n                    <span @click=\"sendCode\">{{time===0?'发送验证码' :`${time}秒重新发送`}}</span>\r\n                </template>\r\n            </van-field>\r\n            <van-field\r\n                v-model=\"password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"密码\"\r\n                placeholder=\"请输入密码\"\r\n                :rules=\"[{ required: true, message: '请填写密码' },{ required: true,validator:password1 , message: '密码长度在6-12位之间' }]\"\r\n            />\r\n            <div class=\"check\">\r\n                <van-radio-group v-model=\"numberAdd\" direction=\"horizontal\">\r\n                    <van-radio name=\"1\">登录</van-radio>\r\n                    <van-radio name=\"2\">注册</van-radio>\r\n                </van-radio-group>\r\n            </div>\r\n            <div style=\"margin: 16px;\">\r\n                <van-button round block type=\"info\" native-type=\"submit\">{{numberAdd==='1'?'登录':'注册'}}</van-button>\r\n            </div>\r\n        </van-form>\r\n        <!-- 手机验证码注册/登录 -->\r\n        <van-form @submit=\"onSubmit\" v-else>\r\n            <van-field\r\n                v-model=\"photo\"\r\n                name=\"photo\"\r\n                type=\"number\"\r\n                label=\"手机号码\"\r\n                placeholder=\"请输入手机号码\"\r\n                :rules=\"[{ required: true, message: '请填写手机号' },{ required: true,validator:photoNum , message: '请输入正确的手机号' }]\"\r\n            />\r\n            <van-field\r\n                v-model=\"code\"\r\n                clearable\r\n                type=\"number\"\r\n                name=\"code\"\r\n                label=\"短信验证码\"\r\n                placeholder=\"请输入短信验证码\"\r\n                :rules=\"[{ required: true, message: '请填写验证码' },{ required: true,validator:codeNum , message: '请输入正确的验证码' }]\"\r\n                >\r\n                <template #button v-if=\"isLogin === '2'\">\r\n                    <span @click=\"sendCode\">{{time===0?'发送验证码' :`${time}秒重新发送`}}</span>\r\n                </template>\r\n            </van-field>\r\n            <div class=\"check\">\r\n                <van-radio-group v-model=\"photoAdd\" direction=\"horizontal\">\r\n                    <van-radio name=\"1\">登录</van-radio>\r\n                    <van-radio name=\"2\">注册</van-radio>\r\n                </van-radio-group>\r\n            </div>\r\n            <div style=\"margin: 16px;\">\r\n                <van-button round block type=\"info\" native-type=\"submit\">{{photoAdd==='1'?'登录':'注册'}}</van-button>\r\n            </div>\r\n        </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { loginIsNum,registerNum,registerPhoto,loginPhoto,getCode,getLoginCode } from '@/api/Login'\r\nexport default {\r\n    name:'easy-Login',\r\n    data() {\r\n        return {\r\n            account: '',\r\n            password: '',\r\n            numCode:'',\r\n            numPhoto:'',\r\n            photo:'',\r\n            code:'',\r\n            time:0,\r\n            numberAdd:'1',\r\n            photoAdd:'1',\r\n            isLogin:'1'\r\n        }\r\n    },\r\n    methods:{\r\n        checkChange(){\r\n            this.numberAdd='1'\r\n            this.photoAdd='1'\r\n        },\r\n        codeNum(val) {\r\n            return /^[0-9]{6}$/.test(val)\r\n        },\r\n        photoNum (val) {\r\n            return /^1[3-9]\\d{9}$/.test(val)\r\n        },\r\n        password1 (val) {\r\n            return /[a-zA-Z0-9]{6,12}/.test(val)\r\n        },\r\n        name (val) {\r\n            return /[a-zA-Z0-9]{5,12}/.test(val)\r\n        }\r\n        ,\r\n        async onSubmit(values) {\r\n            if(this.isLogin === '1') {\r\n                // 账号密码登录\r\n                if(this.numberAdd==='1') {\r\n                    // 登录\r\n                    try {\r\n                        const res = await loginIsNum({account:values.account,password:values.password})\r\n                        this.$toast('登录成功')\r\n                        this.$store.commit('user/setUserInfo',res.result)\r\n                        this.$router.push(`${this.$route.query.from}`)\r\n                    } catch (error) {\r\n                        this.$toast(error.response.data.message)\r\n                    }\r\n                    \r\n                } else {\r\n                    // 注册\r\n                    try {\r\n                        const res = await registerNum({account:values.account,mobile:values.numPhoto,code:values.numCode,password:values.password,type:'app'})\r\n                        this.$toast('注册成功')\r\n                        this.$store.commit('user/setUserInfo',res.result)\r\n                        this.$router.push(`${this.$route.query.from}`)\r\n                    } catch (error) {\r\n                        this.$toast(error.response.data.message)\r\n                    }\r\n                }\r\n            } else {\r\n                // 手机号码登录\r\n                if(this.photoAdd==='1') {\r\n                    // 登录\r\n                    console.log('登录');\r\n                    try {\r\n                        const res = await loginPhoto({mobile:values.photo,code: values.code})\r\n                        this.$store.commit('user/setUserInfo',res.result)\r\n                        this.$router.push(`${this.$route.query.from}`)\r\n                    } catch (error) {\r\n                        this.$toast(error.response.data.message)\r\n                    }\r\n                } else {\r\n                    // 注册\r\n                    console.log('注册');\r\n                    try {\r\n                        const res = await registerPhoto({mobile:values.photo,code: values.code})\r\n                        this.$store.commit('user/setUserInfo',res.result)\r\n                        this.$router.push(`${this.$route.query.from}`)\r\n                    } catch (error) {\r\n                        this.$toast(error.response.data.message)\r\n                    }\r\n\r\n                }\r\n            }\r\n        },\r\n        async sendCode() {\r\n            if(this.time === 0) {\r\n                this.time = 60\r\n                let timer = null\r\n                if(this.isLogin === '1') {\r\n                    // 账号密码登录\r\n                    if(this.numberAdd === '2'){\r\n                        // 注册\r\n                        try {\r\n                            await getCode({mobile:this.numPhoto,type:'register'})\r\n                            this.$toast('发送成功')\r\n                        } catch (error) {\r\n                            this.$toast(error.response.data.message)\r\n                        }\r\n                    }\r\n                } else {\r\n                    if(this.photoAdd==='1') {\r\n                        // 登录\r\n                        try {\r\n                            const res = await getLoginCode(this.photo)\r\n                            console.log(res);\r\n                        } catch (error) {\r\n                            this.$toast(error.response.data.message)\r\n                        }\r\n                    } else {\r\n                        // 注册\r\n                        try {\r\n                            await getCode({mobile:this.photo,type:'register'})\r\n                            this.$toast('发送成功')\r\n                        } catch (error) {\r\n                            this.$toast(error.response.data.message)\r\n                        }\r\n                    }\r\n                }\r\n                timer = setInterval(()=>{\r\n                    this.time--\r\n                    if(this.time === 0) {\r\n                        clearInterval(timer)\r\n                    }\r\n                },1000)\r\n            } else {\r\n                this.$toast(`请在${this.time}后重新发送`)\r\n            }\r\n            \r\n        }\r\n    },\r\n    created(){\r\n        console.log(this.$route.query.from);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van-icon{\r\n    font-size: 16px;\r\n}\r\n.van-radio{\r\n    font-size: 14px;\r\n}\r\n.Login{\r\n    margin-top: 10px;;\r\n }\r\n .check{\r\n    float: right;\r\n    margin:10px 0;\r\n }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1cf26561&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1cf26561&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cf26561\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","checkChange","model","value","isLogin","callback","$$v","expression","_v","onSubmit","required","message","validator","name","account","numberAdd","photoNum","numPhoto","_e","codeNum","scopedSlots","_u","key","fn","sendCode","_s","time","proxy","numCode","password1","password","staticStyle","photo","code","photoAdd","staticRenderFns","loginIsNum","config","request","registerNum","registerPhoto","loginPhoto","getCode","getLoginCode","moblie","data","methods","mobile","type","console","timer","clearInterval","created","component"],"sourceRoot":""}