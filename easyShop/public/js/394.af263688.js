"use strict";(self["webpackChunkeasyshop_h5"]=self["webpackChunkeasyshop_h5"]||[]).push([[394],{6394:function(t,s,e){e.r(s),e.d(s,{default:function(){return v}});var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"context"},[s("van-nav-bar",{attrs:{title:"查看订单","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-steps",{attrs:{active:t.active}},[s("van-step",[t._v("付款")]),s("van-step",[t._v("卖家发货")]),s("van-step",[t._v("买家收货")]),s("van-step",[t._v("交易完成")])],1),s("div",{staticClass:"goodsList"},[s("div",{staticClass:"title"},[t._v(" "+t._s(`订单编号：${t.orderList.id}`)+"  ")]),t._l(t.orderList.skus,(function(t){return s("van-card",{key:t.id,attrs:{num:t.quantity,price:t.curPrice,desc:t.attrsText,title:t.name,thumb:t.image}})})),s("div",{staticClass:"Introduction"},[s("div",{staticClass:"user"},[s("p",[t._v("收货人：")]),s("p",[t._v(t._s(t.orderList.receiverContact))])]),s("div",{staticClass:"address"},[s("p",[t._v("收货地址：")]),s("p",[t._v(t._s(t.orderList.cityCode+t.orderList.provinceCode+t.orderList.countyCode+t.orderList.receiverAddress))])]),s("div",{staticClass:"photoNumber"},[s("p",[t._v("电话：")]),s("p",[t._v(t._s(t.orderList.receiverMobile))])]),s("div",{staticClass:"price"},[s("p",[t._v("实付款：")]),s("p",{staticClass:"priceNum"},[t._v("￥"+t._s(t.orderList.payMoney))])])])],2),s("div",{staticClass:"footerbtn"},[s("div",[t._v("退货")]),2===t.orderList.orderState?s("div",[t._v("提醒卖家发货")]):t._e(),3===t.orderList.orderState?s("div",{on:{click:t.checkLogistics}},[t._v("查看物流")]):t._e(),3===t.orderList.orderState?s("div",{on:{click:t.postReceipt}},[t._v("确认收货")]):t._e(),4===t.orderList.orderState?s("div",[t._v("待评价")]):t._e()]),s("van-popup",{style:{height:"80%",width:"100%"},attrs:{round:"",closeable:"",position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[t.logisticsList.company?s("div",{staticClass:"logisticsBox"},[s("div",{staticClass:"Introduction"},[s("div",{staticClass:"photoNumber"},[s("p",[t._v("电话：")]),s("p",[t._v(t._s(t.logisticsList.company.tel))])]),s("div",{staticClass:"company"},[s("p",[t._v("物流公司：")]),s("p",[t._v(t._s(t.logisticsList.company.name))])]),s("div",{staticClass:"orderNum"},[s("p",[t._v("快递单号：")]),s("p",[t._v(t._s(t.logisticsList.company.number))])])]),s("van-steps",{attrs:{direction:"vertical",active:0}},t._l(t.logisticsList.list,(function(e){return s("van-step",{key:e.id},[s("h3",[t._v(t._s(e.text))]),s("p",[t._v(t._s(e.time))])])})),1)],1):t._e()])],1)},i=[],o=e(596),a={name:"easy-ViewOrder",data(){return{show:!1,active:1,orderList:{},logisticsList:{}}},methods:{async checkLogistics(){const t=await(0,o.Zl)(this.$route.query.orderId);this.logisticsList=t.result,this.show=!0},async getOrders(){const t=await(0,o.co)(this.$route.query.orderId);this.orderList=t.result,this.active=t.result.orderState-1},async postReceipt(){await(0,o.r2)(this.$route.query.orderId),this.$toast("确认收货成功"),this.getOrders()}},created(){this.getOrders()}},c=a,n=e(1001),d=(0,n.Z)(c,r,i,!1,null,"51a61cc4",null),v=d.exports},596:function(t,s,e){e.d(s,{HT:function(){return i},Zl:function(){return n},co:function(){return o},qH:function(){return a},r2:function(){return d},y:function(){return c}});var r=e(435);const i=t=>(0,r.Z)("/member/order","post",{...t}),o=t=>(0,r.Z)(`/member/order/${t}`,"GET"),a=(t,s="不想要了")=>(0,r.Z)(`/member/order/${t}/cancel`,"PUT",{cancelReason:s}),c=t=>(0,r.Z)("/member/order","get",{...t}),n=t=>(0,r.Z)(`/member/order/${t}/logistics`,"get"),d=t=>(0,r.Z)(`/member/order/${t}/receipt`,"put")}}]);
//# sourceMappingURL=394.af263688.js.map