{"version":3,"file":"js/604.e0618764.js","mappings":"8KAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,MAAM,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,IAAI,EAAG,KAAIP,EAAG,MAAM,CAACE,YAAY,YAAYJ,EAAIU,GAAIV,EAAIW,WAAW,SAASC,GAAM,OAAOV,EAAG,MAAM,CAACW,IAAID,EAAKE,GAAGV,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIe,GAAG,IAAIf,EAAIgB,GAAI,QAAOJ,EAAKE,MAAM,OAAOd,EAAIU,GAAIE,EAAKK,MAAM,SAASC,GAAO,OAAOhB,EAAG,WAAW,CAACW,IAAIK,EAAMJ,GAAGT,MAAM,CAAC,IAAMa,EAAMC,SAAS,MAAQD,EAAME,SAAS,KAAOF,EAAMG,UAAU,MAAQH,EAAMI,KAAK,MAAQJ,EAAMK,QAAS,IAAErB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIwB,WAAWZ,EAAKE,GAAI,IAAG,CAACd,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACF,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,QAAQiB,KAAM,gBAAeb,EAAKE,KAAM,IAAG,CAACd,EAAIe,GAAG,WAAW,EAAG,IAAE,IAAI,EACh3B,EACGW,EAAkB,G,SC+BtB,GACAJ,KAAAA,eACAK,OACA,OACAC,OAAAA,CACAC,KAAAA,EACAC,SAAAA,GACAC,WAAAA,GAEApB,UAAAA,GAEA,EACAqB,QAAAA,CACA,oBACA,aAAAC,SAAA,oBACAA,EAAAA,MAAAA,SAAAA,IACA,kCACA,sBACA,IAEAC,QAAAA,IAAAA,KAAAA,UAEA,EACA,0BACA,WACA,sBACA,kBACA,GAEAC,UACA,kBACA,GChE8P,I,UCQ1PC,GAAY,OACd,EACArC,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAeU,EAAiB,O,2LCdzB,MAAMC,EAAiBT,IACnBU,EAAAA,EAAAA,GAAQ,gBAAgB,OAAO,IAAIV,IAMjCW,EAAYzB,IACdwB,EAAAA,EAAAA,GAAS,iBAAgBxB,IAAK,OAM5B0B,EAAa,CAAC1B,EAAI2B,EAAa,UACjCH,EAAAA,EAAAA,GAAS,iBAAgBxB,WAAY,MAAM,CAAC2B,iBAOzCC,EAAcd,IACjBU,EAAAA,EAAAA,GAAQ,gBAAgB,MAAM,IAAIV,IAMhCe,EAAgB7B,IAClBwB,EAAAA,EAAAA,GAAS,iBAAgBxB,cAAe,OAMtC8B,EAAc9B,IAChBwB,EAAAA,EAAAA,GAAS,iBAAgBxB,YAAa,M","sources":["webpack://easyshop-h5/./src/views/payment/index.vue","webpack://easyshop-h5/src/views/payment/index.vue","webpack://easyshop-h5/./src/views/payment/index.vue?46d6","webpack://easyshop-h5/./src/views/payment/index.vue?ec8d","webpack://easyshop-h5/./src/api/pay.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"context\"},[_c('van-nav-bar',{attrs:{\"title\":\"待付款\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('div',{staticClass:\"goodsBox\"},_vm._l((_vm.orderList),function(item){return _c('div',{key:item.id,staticClass:\"goodsList\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(`订单编号:${item.id}`)+\" \")]),_vm._l((item.skus),function(goods){return _c('van-card',{key:goods.id,attrs:{\"num\":goods.quantity,\"price\":goods.curPrice,\"desc\":goods.attrsText,\"title\":goods.name,\"thumb\":goods.image}})}),_c('div',{staticClass:\"btn\"},[_c('div',{on:{\"click\":function($event){return _vm.delteOrder(item.id)}}},[_vm._v(\"取消订单\")]),_c('div',[_vm._v(\"朋友代付\")]),_c('div',{on:{\"click\":function($event){return _vm.$router.push(`/pay?orderId=${item.id}`)}}},[_vm._v(\"付款\")])])],2)}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"context\">\r\n    <van-nav-bar\r\n        title=\"待付款\"\r\n        left-arrow\r\n        @click-left=\"$router.go(-1)\"\r\n    />\r\n    <div class=\"goodsBox\">\r\n        <div class=\"goodsList\" v-for=\"item in orderList\" :key=\"item.id\">\r\n            <div class=\"title\">\r\n                {{`订单编号:${item.id}`}}\r\n            </div>\r\n            <van-card\r\n                v-for=\"goods in item.skus\"\r\n                :key=\"goods.id\"\r\n                :num=\"goods.quantity\"\r\n                :price=\"goods.curPrice\"\r\n                :desc=\"goods.attrsText\"\r\n                :title=\"goods.name\"\r\n                :thumb=\"goods.image\"\r\n            />\r\n            <div class=\"btn\">\r\n                <div @click=\"delteOrder(item.id)\">取消订单</div>\r\n                <div>朋友代付</div>\r\n                <div @click=\"$router.push(`/pay?orderId=${item.id}`)\">付款</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getMyOrder,detalOrder} from '@/api/pay'\r\nexport default {\r\n    name:'easy-Payment',\r\n    data() {\r\n        return {\r\n            config:{\r\n                page:1,\r\n                pageSize:10,\r\n                orderState:0\r\n            },\r\n            orderList:[]\r\n        }\r\n    },\r\n    methods:{\r\n        async getMyOrders () {\r\n            const {result} = await getMyOrder(this.config)\r\n            result.items.forEach(item => {\r\n                if(item.orderState === 1 && item.countdown>-1) {\r\n                    this.orderList.push(item)\r\n                }\r\n            })\r\n            console.log(this.orderList);\r\n            \r\n        },\r\n        async delteOrder (id) {\r\n            await detalOrder(id)\r\n            this.$toast('订单取消成功')\r\n            this.getMyOrders()\r\n        },\r\n    },\r\n    created() {\r\n        this.getMyOrders()\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.title{\r\n    font-size: 13px;\r\n    text-align: right;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    margin-right: 10px;\r\n}\r\n.van-card{\r\n    margin: 0;\r\n}\r\n.btn{\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    height: 40px;\r\n    div{\r\n        background-color: red;\r\n        color:#fff;\r\n        font-size: 13px;\r\n        width: 80px;\r\n        height: 22px;\r\n        line-height: 23px;\r\n        text-align: center;\r\n        border: 1px solid #000;\r\n        border-radius: 10px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=09cd5ae1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=09cd5ae1&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09cd5ae1\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\"\r\n\r\n/**\r\n * 提交订单\r\n */\r\nexport const postGoodsList = (config) => {\r\n    return request('/member/order','post',{...config})\r\n}\r\n\r\n/**\r\n * 获取订单详情\r\n */\r\nexport const getOrder = (id) =>{\r\n    return request(`/member/order/${id}`,'GET')\r\n}\r\n\r\n/**\r\n * 取消订单\r\n */\r\nexport const detalOrder = (id, cancelReason='不想要了') =>{\r\n    return request(`/member/order/${id}/cancel`,'PUT',{cancelReason})\r\n}\r\n\r\n\r\n/**\r\n * 获取我的订单\r\n */\r\n export const getMyOrder = (config) => {\r\n    return request('/member/order','get',{...config})\r\n}\r\n\r\n/**\r\n * 查看物流\r\n */\r\nexport const getLogistics = (id) => {\r\n    return request(`/member/order/${id}/logistics`,'get')\r\n}\r\n\r\n/**\r\n * 确认收货\r\n */\r\nexport const putReceipt = (id) => {\r\n    return request(`/member/order/${id}/receipt`,'put')\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","_l","orderList","item","key","id","_v","_s","skus","goods","quantity","curPrice","attrsText","name","image","delteOrder","push","staticRenderFns","data","config","page","pageSize","orderState","methods","result","console","created","component","postGoodsList","request","getOrder","detalOrder","cancelReason","getMyOrder","getLogistics","putReceipt"],"sourceRoot":""}