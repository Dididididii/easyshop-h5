{"version":3,"file":"js/32.fb867456.js","mappings":"iKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,MAAM,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,IAAI,EAAG,KAAIP,EAAG,MAAM,CAACE,YAAY,YAAYJ,EAAIU,GAAIV,EAAIW,WAAW,SAASC,GAAM,OAAOV,EAAG,MAAM,CAACW,IAAID,EAAKE,GAAGV,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIe,GAAG,IAAIf,EAAIgB,GAAI,QAAOJ,EAAKE,MAAM,QAAQd,EAAIU,GAAIE,EAAKK,MAAM,SAASC,GAAO,OAAOhB,EAAG,WAAW,CAACW,IAAIK,EAAMJ,GAAGT,MAAM,CAAC,IAAMa,EAAMC,SAAS,MAAQD,EAAME,SAAS,KAAOF,EAAMG,UAAU,MAAQH,EAAMI,KAAK,MAAQJ,EAAMK,QAAS,IAAErB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACF,EAAIe,GAAG,QAAQb,EAAG,MAAM,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIwB,QAAQZ,EAAKE,GAAI,IAAG,CAACd,EAAIe,GAAG,UAAUb,EAAG,MAAM,CAACI,GAAG,CAAC,MAAQN,EAAIyB,cAAc,CAACzB,EAAIe,GAAG,aAAa,EAAG,IAAE,IAAI,EACzzB,EACGW,EAAkB,G,mBC+BtB,GACAJ,KAAAA,gBACAK,OACA,OACAC,OAAAA,CACAC,KAAAA,EACAC,SAAAA,GACAC,WAAAA,GAEApB,UAAAA,GAEA,EACAqB,QAAAA,CACA,0BACA,mCACA,qBACA,EACAR,QAAAA,GACA,4CACA,EACA,oBACA,aAAAS,SAAA,oBACAA,EAAAA,MAAAA,SAAAA,IACA,kBACA,sBACA,GAEA,GAEAC,UACA,kBACA,GChE8P,I,UCQ1PC,GAAY,OACd,EACApC,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAeS,EAAiB,O,2LCdzB,MAAMC,EAAiBR,IACnBS,EAAAA,EAAAA,GAAQ,gBAAgB,OAAO,IAAIT,IAMjCU,EAAYxB,IACduB,EAAAA,EAAAA,GAAS,iBAAgBvB,IAAK,OAM5ByB,EAAa,CAACzB,EAAI0B,EAAa,UACjCH,EAAAA,EAAAA,GAAS,iBAAgBvB,WAAY,MAAM,CAAC0B,iBAOzCC,EAAcb,IACjBS,EAAAA,EAAAA,GAAQ,gBAAgB,MAAM,IAAIT,IAMhCc,EAAgB5B,IAClBuB,EAAAA,EAAAA,GAAS,iBAAgBvB,cAAe,OAMtC6B,EAAc7B,IAChBuB,EAAAA,EAAAA,GAAS,iBAAgBvB,YAAa,M","sources":["webpack://easyshop-h5/./src/views/forgoods/index.vue","webpack://easyshop-h5/src/views/forgoods/index.vue","webpack://easyshop-h5/./src/views/forgoods/index.vue?2b72","webpack://easyshop-h5/./src/views/forgoods/index.vue?7aac","webpack://easyshop-h5/./src/api/pay.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"context\"},[_c('van-nav-bar',{attrs:{\"title\":\"待收货\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('div',{staticClass:\"goodsBox\"},_vm._l((_vm.orderList),function(item){return _c('div',{key:item.id,staticClass:\"goodsList\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(`订单编号：${item.id}`)+\"  \")]),_vm._l((item.skus),function(goods){return _c('van-card',{key:goods.id,attrs:{\"num\":goods.quantity,\"price\":goods.curPrice,\"desc\":goods.attrsText,\"title\":goods.name,\"thumb\":goods.image}})}),_c('div',{staticClass:\"btn\"},[_c('div',[_vm._v(\"退货\")]),_c('div',{on:{\"click\":function($event){return _vm.toOrder(item.id)}}},[_vm._v(\"查看订单\")]),_c('div',{on:{\"click\":_vm.postReceipt}},[_vm._v(\"确认收货\")])])],2)}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"context\">\r\n    <van-nav-bar\r\n        title=\"待收货\"\r\n        left-arrow\r\n        @click-left=\"$router.go(-1)\"\r\n    />\r\n    <div class=\"goodsBox\">\r\n        <div class=\"goodsList\" v-for=\"item in orderList\" :key=\"item.id\">\r\n            <div class=\"title\">\r\n                {{`订单编号：${item.id}`}}&nbsp;\r\n            </div>\r\n            <van-card\r\n                v-for=\"goods in item.skus\"\r\n                :key=\"goods.id\"\r\n                :num=\"goods.quantity\"\r\n                :price=\"goods.curPrice\"\r\n                :desc=\"goods.attrsText\"\r\n                :title=\"goods.name\"\r\n                :thumb=\"goods.image\"\r\n            />\r\n            <div class=\"btn\">\r\n                <div>退货</div>\r\n                <div @click=\"toOrder(item.id)\">查看订单</div>\r\n                <div @click=\"postReceipt\">确认收货</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import {getMyOrder,putReceipt} from '@/api/pay'\r\n  export default {\r\n    name:'easy-ForGoods',\r\n    data() {\r\n        return {\r\n            config:{\r\n                page:1,\r\n                pageSize:10,\r\n                orderState:0\r\n            },\r\n            orderList:[]\r\n        }\r\n    },\r\n    methods:{\r\n        async postReceipt() {\r\n            await putReceipt(this.$route.query.orderId)\r\n            this.$toast('确认收货成功')\r\n        },\r\n        toOrder(id) {\r\n            this.$router.push(`/vieworder?orderId=${id}`)\r\n        },\r\n        async getMyOrders () {\r\n            const {result} = await getMyOrder(this.config)\r\n            result.items.forEach(item => {\r\n                if(item.orderState === 3) {\r\n                    this.orderList.push(item)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        this.getMyOrders()\r\n    }\r\n  }\r\n  </script>\r\n  \r\n<style lang=\"less\" scoped>\r\n.title{\r\n    font-size: 13px;\r\n    text-align: right;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    margin-right: 10px;\r\n}\r\n.van-card{\r\n    margin: 0;\r\n}\r\n.btn{\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-end;\r\n    background-color: #fff;\r\n    width: 100%;\r\n    height: 40px;\r\n    div{\r\n        background-color: red;\r\n        color:#fff;\r\n        margin-right: 10px;\r\n        font-size: 13px;\r\n        width: 85px;\r\n        height: 22px;\r\n        line-height: 23px;\r\n        text-align: center;\r\n        border: 1px solid #000;\r\n        border-radius: 10px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6feccbb5&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6feccbb5&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6feccbb5\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\"\r\n\r\n/**\r\n * 提交订单\r\n */\r\nexport const postGoodsList = (config) => {\r\n    return request('/member/order','post',{...config})\r\n}\r\n\r\n/**\r\n * 获取订单详情\r\n */\r\nexport const getOrder = (id) =>{\r\n    return request(`/member/order/${id}`,'GET')\r\n}\r\n\r\n/**\r\n * 取消订单\r\n */\r\nexport const detalOrder = (id, cancelReason='不想要了') =>{\r\n    return request(`/member/order/${id}/cancel`,'PUT',{cancelReason})\r\n}\r\n\r\n\r\n/**\r\n * 获取我的订单\r\n */\r\n export const getMyOrder = (config) => {\r\n    return request('/member/order','get',{...config})\r\n}\r\n\r\n/**\r\n * 查看物流\r\n */\r\nexport const getLogistics = (id) => {\r\n    return request(`/member/order/${id}/logistics`,'get')\r\n}\r\n\r\n/**\r\n * 确认收货\r\n */\r\nexport const putReceipt = (id) => {\r\n    return request(`/member/order/${id}/receipt`,'put')\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","_l","orderList","item","key","id","_v","_s","skus","goods","quantity","curPrice","attrsText","name","image","toOrder","postReceipt","staticRenderFns","data","config","page","pageSize","orderState","methods","result","created","component","postGoodsList","request","getOrder","detalOrder","cancelReason","getMyOrder","getLogistics","putReceipt"],"sourceRoot":""}