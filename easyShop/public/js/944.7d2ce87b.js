"use strict";(self["webpackChunkeasyshop_h5"]=self["webpackChunkeasyshop_h5"]||[]).push([[944],{283:function(t,s,e){e.d(s,{Z:function(){return l}});var i=function(){var t=this,s=t._self._c;return t.goodsList.length>0?s("div",{style:{display:"flex",flexWrap:t.warp?"wrap":"nowrap",justifyContent:"space-around"}},t._l(t.goodsList,(function(e){return s("div",{key:e.id,staticClass:"goodsCard",on:{click:function(s){return t.toGoods(e.id)}}},[s("van-image",{staticClass:"goodsImage",attrs:{radius:"8px",fit:"cover","lazy-load":"",src:e.picture}}),s("p",{staticClass:"goodsTitle"},[t._v(t._s(e.name))]),s("p",{staticClass:"goodsPirce"},[t._v("￥"+t._s(e.price))])],1)})),0):t._e()},a=[],o=(e(7658),{name:"easy-Card",props:{warp:{type:Boolean,default:!0},goodsList:{type:Array,default:()=>[]}},methods:{toGoods(t){this.$router.push(`/goods?id=${t}`)}}}),n=o,c=e(1001),r=(0,c.Z)(n,i,a,!1,null,"0fc1280d",null),l=r.exports},8944:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});e(7658);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"context"},[s("header",[t._m(0),s("van-search",{attrs:{"show-action":"",placeholder:"搜索商品"},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[t.$store.state.user.profile.token?t._e():s("div",{staticClass:"searchBtn",on:{click:function(s){return t.$router.push("/login?from=/")}}},[t._v("登录")])]},proxy:!0}]),model:{value:t.searchText,callback:function(s){t.searchText=s},expression:"searchText"}})],1),s("nav",[s("van-tabs",{staticClass:"tabs",attrs:{sticky:"","offset-top":"1.4rem"},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},t._l(t.navbsList,(function(e){return s("van-tab",{key:e.id,attrs:{title:e.name}},[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(s){t.isLoading=s},expression:"isLoading"}},[s("section",[s("div",{staticClass:"main"},[s("van-swipe",{attrs:{autoplay:3e3}},t._l(t.banner,(function(t){return s("van-swipe-item",{key:t.id},[s("van-image",{staticClass:"swipeImages",attrs:{fit:"cover",src:t.imgUrl,"lazy-load":""}})],1)})),1)],1)]),0===t.active?s("main",[s("div",{staticClass:"classBox"},t._l(t.moveList,(function(e){return s("div",{key:e.id,staticClass:"classItem"},[s("van-image",{staticClass:"classImages",attrs:{fit:"cover",src:e.picture,"lazy-load":""}}),s("p",{staticClass:"classTitle"},[t._v(t._s(e.name))])],1)})),0),s("div",{staticClass:"recommend"},[s("div",{staticClass:"recommendItem",on:{click:function(s){return t.updateCecommend(0)}}},[s("van-image",{staticClass:"recommendImage",attrs:{"lazy-load":"",fit:"cover",src:t.recommendList[0].picture}}),s("p",{staticClass:"recommendText"},[t._v(t._s(t.recommendList[0].title))])],1),s("div",{staticClass:"recommendItem"},[s("div",{staticClass:"recommendItems",on:{click:function(s){return t.updateCecommend(1)}}},[s("van-image",{staticClass:"recommendImages",attrs:{"lazy-load":"",fit:"cover",src:t.recommendList[1].picture}}),s("p",{staticClass:"recommendText"},[t._v(t._s(t.recommendList[1].title))])],1),s("div",{staticClass:"recommendItems",on:{click:function(s){return t.updateCecommend(2)}}},[s("van-image",{staticClass:"recommendImages",attrs:{"lazy-load":"",fit:"cover",src:t.recommendList[2].picture}}),s("p",{staticClass:"recommendText"},[t._v(t._s(t.recommendList[2].title))])],1)])]),t.simples.length>0?s("div",{staticClass:"title"},[s("h3",[t._v(t._s(t.title))])]):t._e(),s("div",{staticClass:"goodsRecommend"},[s("easyCard",{attrs:{warp:!1,goodsList:t.simples}})],1),s("div",{staticClass:"title"},[s("h3",[t._v("推荐商品")])]),s("div",{staticClass:"goodsLike"},[s("van-list",{attrs:{offset:"100",finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[s("easyCard",{attrs:{goodsList:t.likeList}})],1)],1)]):s("main",[s("div",{staticClass:"goodsLike"},[s("easyCard",{attrs:{active:t.active,"goods-list":t.navbsList[t.active].goods}})],1)])])],1)})),1)],1)])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"logoBox"},[s("img",{staticClass:"logo",attrs:{src:e(9955),alt:""}})])}],o=(e(541),e(283)),n=e(2419),c={name:"easy-Home",components:{easyCard:o.Z},data(){return{title:"",recommendList:[],isLoading:!1,loading:!1,finished:!1,isToken:!1,navbsList:[],searchText:"",moveList:[],banner:[],active:0,simples:[],likeList:[],config:{page:1,pageSize:10},counts:0,num:4}},methods:{updateCecommend(t){this.num!==t?(this.num=t,this.title=this.recommendList[t].title,this.simples=this.recommendList[t].goods):(this.num=4,this.simples=[],this.title="")},async getCateLista(){this.moveList=[];const t={id:0,name:"首页"},s=await(0,n.hN)();this.navbsList=s.result,this.navbsList.unshift(t);for(let e=1;e<=8;e++)this.moveList.push(this.navbsList[e])},async getHomeBanner(){const t=await(0,n.Eg)();this.banner=t.result},async getSimples(){let t={title:"爆款推荐",goods:[],picture:""};const s=await(0,n.qN)(),e=await(0,n.ON)(),{result:i}=await(0,n.qE)();e.result.byDay.forEach((s=>{t.goods.push(s)})),e.result.byTotal.forEach((s=>{t.goods.push(s)})),e.result.byWeek.forEach((s=>{t.goods.push(s)})),t.picture=t.goods[0].picture,this.recommendList.push(t),this.recommendList.push({title:"好物推荐",goods:s.result.newProduct,picture:s.result.newProduct[0].picture}),this.recommendList.push({title:"猜你喜欢",goods:i.items,picture:i.items[0].picture})},async getUserLikes(){const t=await(0,n.qE)(this.config);this.likeList.push(...t.result.items),this.counts=t.result.counts},onLoad(){let t=null;null===t&&(t=setInterval((()=>{this.config.page++,this.getUserLikes(),this.loading=!1,this.likeList.length>=this.counts&&(this.finished=!0),clearInterval(t),t=null}),1e3))},onRefresh(){this.simples=[],this.likeList=[],this.config={page:1,pageSize:10},this.getSimples(),this.getUserLikes(),this.$toast("刷新成功"),this.isLoading=!1}},created(){this.likeList=[],this.getCateLista(),this.getHomeBanner(),this.getSimples(),this.getUserLikes()}},r=c,l=e(1001),d=(0,l.Z)(r,i,a,!1,null,"0e8eb147",null),u=d.exports},2419:function(t,s,e){e.d(s,{Eg:function(){return o},ON:function(){return r},hN:function(){return a},qE:function(){return c},qN:function(){return n}});var i=e(435);const a=()=>(0,i.Z)("/home/category/head","get"),o=(t=1)=>(0,i.Z)("/home/banner","get",{distributionSite:t}),n=()=>(0,i.Z)("/home/new/simple","get"),c=t=>(0,i.Z)("/home/goods/guessLike","get",{...t}),r=()=>(0,i.Z)("/home/inVogue","get")},9955:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAARCAYAAABpTnqxAAADTUlEQVRYhcVX7XEaMRBdM/sfOjAdGFdgXAFOBXcdJK7AdgWhg+AOoAJDB0cFOSoI/N+ZZPb8dPNYdBiIM3kzGqTTSlo97RdX8klQ1bGIeNua2VTevw1E5BtOmJtZpaoPZjY/5VSXFZERhkszW54o3+oQ5vf0cX2T3BUEni+gozazGR3iezx538zSvk7MG0ReRGQoIoWILESkNLMtKTjKnOFKT9Bf0yUYfukK+zhRd6xDIIL12YlIX0RezaxUfHy6gIiViMxOkGM8oO+Xq1V1ZGY1LviRDjd0iYhLLLvGnoUT2LtggwOA6Raq2kXQCC/7z+E6qepvboHIG+pPG4voMKPWzETk/gP/jC/lLEeZRNYSSvhvCdKmGAus5iv6br6lmz9+C/qerCu51zS410GMOIJ+p0mBwQY5okjO/f7nGYdGNCQH4s/Bowe8D9a/whWEXHBF5Esvmk9qkZSOtkQA/J8YnHB2hUuzVS9hZa7/7DNixDjz7dZfGi+RwLHhEfP3UFKC3BeYv2APHi+wfg9mNsYrJ9xT/zvcl13YXesa7tbECE9rucslM1sFJhk12hD+2QQgSmcPJLulfnUk5gyQjfqkS03jSQf552I/WJrZQQ2hqjUN79BecrLAEnXETfjOClfsw147pDoi4Dozjqm1n1kXwS6zoHokYuWPcuAauFBUJsqMUQQdkxkSMZtgEb72l2cMryVOuBRjd6IcPxo/7CrINal+jwhVLQP7cVHCGwqiYwUVKxJL6nT5gtIgn8n+/Qr33WBchfmGdOjCpLJ1lh06Oqk/fG1LBPLwDxJah1w8kv3iqd9RFgteuaBPkTC2ppx7MAo8DltptMYt5LpcJn3fhRSbAnXRg5nXVMRIKGQSJqo6D5eKET+BLWCVgieBz+raowvDoEONWJNcZoOYkLCGRS0yRCVS1j0ozWxv8K+syrzWJMh2uUaS2ZFZdr18jogtXMTbLQq6lDKvw4VS9ikhOwwxYYYzuoLluw5uxqq6RcE0j0HQXSZTTNWIJyz3TPOpX9L8wAswktmG+TSXTavQM+qRzWI4q4LMAC3d0QN0SXtUbcBGsPmr3AwXcwIa5c7NBrio79G5DvOpHa1ocfk2EGP/9m889ngfi8gfoyc9MJMpXQUAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=944.7d2ce87b.js.map