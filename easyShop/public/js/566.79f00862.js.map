{"version":3,"file":"js/566.79f00862.js","mappings":"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","sources":["webpack://easyshop-h5/./src/components/easy-card.vue","webpack://easyshop-h5/src/components/easy-card.vue","webpack://easyshop-h5/./src/components/easy-card.vue?2992","webpack://easyshop-h5/./src/components/easy-card.vue?1f1f","webpack://easyshop-h5/./src/views/searchGoods/index.vue","webpack://easyshop-h5/src/views/searchGoods/index.vue","webpack://easyshop-h5/./src/views/searchGoods/index.vue?1f5c","webpack://easyshop-h5/./src/views/searchGoods/index.vue?be54","webpack://easyshop-h5/./src/api/home.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.goodsList.length>0)?_c('div',{style:({display:'flex', flexWrap: _vm.warp?'wrap':'nowrap',justifyContent: 'space-around'})},_vm._l((_vm.goodsList),function(item){return _c('div',{key:item.id,staticClass:\"goodsCard\",on:{\"click\":function($event){return _vm.toGoods(item.id)}}},[_c('van-image',{staticClass:\"goodsImage\",attrs:{\"radius\":\"8px\",\"fit\":\"cover\",\"lazy-load\":\"\",\"src\":item.picture}}),_c('p',{staticClass:\"goodsTitle\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"goodsPirce\"},[_vm._v(\"￥\"+_vm._s(item.price))])],1)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"goodsList.length>0\" :style=\"{display:'flex', flexWrap: warp?'wrap':'nowrap',justifyContent: 'space-around'}\">\r\n    <div class=\"goodsCard\" v-for=\"item in goodsList\" :key=\"item.id\" @click=\"toGoods(item.id)\">\r\n        <van-image\r\n            class=\"goodsImage\"\r\n            radius=\"8px\"\r\n            fit=\"cover\"\r\n            lazy-load\r\n            :src=\"item.picture\"\r\n        />\r\n        <p class=\"goodsTitle\">{{item.name}}</p>\r\n        <p class=\"goodsPirce\">￥{{item.price}}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'easy-Card',\r\n    props:{\r\n        warp:{\r\n          type:Boolean,\r\n          default:true\r\n        },\r\n        goodsList:{\r\n          type:Array,\r\n          default:()=>[]\r\n        }\r\n    },\r\n    methods:{\r\n        toGoods(id){\r\n          this.$router.push(`/goods?id=${id}`)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.goodsCard:last-child {\r\n        margin-right: 1;\r\n}\r\n.goodsCard{\r\n        width: 160px;\r\n        height: 233px;\r\n        text-align: center;\r\n        margin: 5px;\r\n        border-radius: 8px;\r\n        background-color: #fff;\r\n        padding-bottom: 5px;\r\n        .goodsImage{\r\n          width: 160px;\r\n          height: 160px;\r\n        }\r\n        .goodsTitle {\r\n          width: 135px;\r\n          height: 40px;\r\n          overflow: hidden;\r\n          text-overflow:ellipsis;\r\n          font-size: 15px;\r\n          padding: 0px 10px;\r\n          // text-indent: 10px;\r\n          margin-right: 5px;\r\n        }\r\n        p{\r\n          margin: 0;\r\n        }\r\n        .goodsPirce{\r\n          font-size: 18px;\r\n          margin-top: 5px;\r\n          color:red;\r\n          font-weight: 500;\r\n        }\r\n      }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./easy-card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./easy-card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./easy-card.vue?vue&type=template&id=0fc1280d&scoped=true&\"\nimport script from \"./easy-card.vue?vue&type=script&lang=js&\"\nexport * from \"./easy-card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./easy-card.vue?vue&type=style&index=0&id=0fc1280d&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fc1280d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"context\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"placeholder\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"searchBtn\",on:{\"click\":function($event){return _vm.$router.push('/search')}}},[_c('van-icon',{attrs:{\"name\":\"search\"}}),_c('span',{staticClass:\"title\"},[_vm._v(\"搜索商品\")])],1)]},proxy:true}])}),_c('div',[_c('van-dropdown-menu',{staticStyle:{\"position\":\"fixed\",\"z-index\":\"9999\",\"width\":\"100%\"}},[_c('van-dropdown-item',{attrs:{\"options\":_vm.option1},on:{\"change\":_vm.methodChange},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}}),_c('van-dropdown-item',{attrs:{\"options\":_vm.option2},on:{\"change\":_vm.methodChange},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}})],1)],1),_c('div',{staticClass:\"goodsList\"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"offset\":\"100\",\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('easyCard',{attrs:{\"goodsList\":_vm.likeList}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"context\">\r\n    <van-nav-bar  left-arrow @click-left=\"$router.go(-1)\" placeholder fixed>\r\n    <template #title>\r\n        <div class=\"searchBtn\" @click=\"$router.push('/search')\">\r\n            <van-icon name=\"search\" />\r\n            <span class=\"title\">搜索商品</span>\r\n        </div>\r\n    </template>\r\n    </van-nav-bar>\r\n    <div>\r\n        <van-dropdown-menu style=\"position: fixed; z-index: 9999; width: 100%;\" >\r\n            <van-dropdown-item v-model=\"value1\" :options=\"option1\" @change=\"methodChange\" />\r\n            <van-dropdown-item v-model=\"value2\" :options=\"option2\" @change=\"methodChange\" />\r\n        </van-dropdown-menu>\r\n    </div>\r\n    <div class=\"goodsList\">\r\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n            <van-list\r\n                offset=\"100\"\r\n                v-model=\"loading\"\r\n                :finished=\"finished\"\r\n                finished-text=\"没有更多了\"\r\n                @load=\"onLoad\"\r\n            >\r\n                <easyCard :goodsList=\"likeList\" />\r\n            </van-list>\r\n        </van-pull-refresh>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport easyCard from '@/components/easy-card.vue'\r\nimport { getUserLike } from '@/api/home.js'\r\nexport default {\r\n    components:{easyCard},\r\n    name:'easy-SearchGoods',\r\n    data() {\r\n    return {\r\n        value1: 0,\r\n        value2: 'a',\r\n        config:{\r\n                page:1,\r\n                pageSize:10\r\n        },\r\n        option1: [\r\n            { text: '全部商品', value: 0 },\r\n            { text: '新款商品', value: 1 },\r\n            { text: '活动商品', value: 2 },\r\n        ],\r\n        option2: [\r\n            { text: '默认排序', value: 'a' },\r\n            { text: '好评排序', value: 'b' },\r\n            { text: '销量排序', value: 'c' },\r\n        ],\r\n        count: 0,\r\n        isLoading: false,\r\n        counts:0,\r\n        loading:false,\r\n        likeList:[],\r\n        finished:false\r\n    };\r\n  },\r\n  methods: {\r\n    methodChange(){\r\n        this.onRefresh()\r\n        // console.log(1);\r\n    },\r\n    onRefresh() {\r\n        this.likeList=[]\r\n        this.getUserLikes()\r\n        // this.$toast('刷新成功');\r\n        this.config = {\r\n            page:1,\r\n            pageSize:10\r\n        }\r\n        this.isLoading = false;   \r\n    },\r\n    async getUserLikes() {\r\n        const res = await getUserLike(this.config)\r\n        this.likeList.push(...res.result.items)\r\n        this.counts = res.result.counts\r\n    },\r\n    onLoad() {\r\n        let timer = null\r\n        if(timer === null) {\r\n            timer = setInterval(()=>{\r\n            this.config.page++\r\n            this.getUserLikes()\r\n            this.loading = false\r\n            if(this.likeList.length >= this.counts) {\r\n                this.finished = true\r\n            }\r\n            clearInterval(timer)\r\n            timer=null\r\n            },1000)\r\n        }\r\n    },\r\n  },\r\n  created(){\r\n    this.getUserLikes()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n.van-icon-search{\r\n    \r\n    font-size: 18px;\r\n    color:#888;\r\n    margin-left: 10px;\r\n}\r\n.goodsList {\r\n    margin-top:50px;\r\n}\r\n.searchBtn {\r\n    width: 240px;\r\n    height: 35px;\r\n    background-color: #f1f1f1;\r\n    display: flex;\r\n    align-items: center;\r\n    .title{\r\n        color:#888;\r\n        margin-left: 10px;\r\n        font-size: 15px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0df0c177&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0df0c177&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0df0c177\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\r\n\r\n/**\r\n * 获取分类\r\n * @returns \r\n */\r\nexport const getCateList = () =>{\r\n    return request('/home/category/head','get')\r\n}\r\n\r\n/**\r\n * 获取轮播图\r\n */\r\n export const getBanner = (distributionSite = 1) => {\r\n    return request('/home/banner','get',{distributionSite})\r\n}\r\n\r\n/**\r\n * 获取好物推荐\r\n */\r\nexport const getSimple = () => {\r\n    return request('/home/new/simple','get')\r\n}\r\n\r\n/**\r\n * 获取推荐商品\r\n */\r\nexport const getUserLike = (config) => {\r\n    return request('/home/goods/guessLike','get', {...config})\r\n}\r\n\r\n/**\r\n * 获取爆款推荐\r\n */\r\nexport const getInVogue = () => {\r\n    return request('/home/inVogue','get')\r\n}"],"names":["render","_vm","this","_c","_self","goodsList","length","style","display","flexWrap","warp","justifyContent","_l","item","key","id","staticClass","on","$event","toGoods","attrs","picture","_v","_s","name","price","_e","staticRenderFns","props","type","default","methods","component","$router","go","scopedSlots","_u","fn","push","proxy","staticStyle","option1","methodChange","model","value","value1","callback","$$v","expression","option2","value2","onRefresh","isLoading","finished","onLoad","loading","likeList","components","easyCard","data","config","page","pageSize","text","count","counts","timer","clearInterval","created","getCateList","request","getBanner","distributionSite","getSimple","getUserLike","getInVogue"],"sourceRoot":""}